<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
margin:0;
font-family:'Comic Sans MS',cursive;
color:white;
text-align:center;
overflow:hidden;
background:linear-gradient(135deg,#ff7aa2,#ff9a9e,#fbc2eb,#a18cd1);
background-size:400% 400%;
animation:bg 12s infinite alternate;
}

@keyframes bg{0%{background-position:0% 50%}100%{background-position:100% 50%}}

.page{
display:none;
min-height:100dvh;
width:100%;
align-items:center;
justify-content:center;
padding:20px;
position:fixed;
top:0;
left:0;
}

.show{display:flex;flex-direction:column}

.card{
background:rgba(255,255,255,.2);
backdrop-filter:blur(12px);
padding:24px;
border-radius:24px;
max-width:520px;
width:92%;
position:relative;
z-index:5;
}

button{
padding:12px 26px;
border:none;
border-radius:40px;
background:linear-gradient(45deg,#ff4d88,#ff9a9e);
color:#fff;
font-size:18px;
margin:10px;
cursor:pointer;
-webkit-tap-highlight-color: transparent;
}

button:active{transform:scale(.95)}

#player{display:none;margin-top:15px}

#noBtn2{
position:absolute;
left:50%;
top:65%;
transform:translate(-50%,-50%);
}

.floatName{
position:fixed;
bottom:-20px;
animation:up linear forwards;
opacity:.85;
pointer-events:none;
}

@keyframes up{
from{transform:translateY(0)}
to{transform:translateY(-120vh);opacity:0}
}

#letter{
white-space:pre-wrap;
word-wrap:break-word;
font-size:18px;
line-height:1.8;
min-height:220px;
text-align:left;
padding:8px;
}
</style>
</head>

<body>

<!-- START -->
<div id="start" class="page show">
<div class="card">
<h2>Play song first üéß</h2>
<p>Tap below ‚Äî then continue</p>

<button onclick="startExperience()">Play & Start</button>

<div id="player">
<iframe style="border-radius:12px"
src="https://open.spotify.com/embed/track/5jkH9Pgv28mW9ve6uGtohT"
width="100%" height="80"
frameBorder="0"
allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
</iframe>
</div>

</div>
</div>

<!-- QUESTIONS -->
<div id="q" class="page">
<div class="card">
<h2 id="qText"></h2>
<button onclick="nextQ()">Always remember ‚ù§Ô∏è</button>
</div>
</div>

<!-- LETTER -->
<div id="letterPage" class="page">
<div class="card">
<h2>For you‚Ä¶</h2>
<p id="letter"></p>
<button onclick="showProposal()">Continue üíå</button>
</div>
</div>

<!-- PROPOSAL -->
<div id="proposal" class="page">
<div class="card">
<h1>Will you be my Valentine? üíò</h1>
<button onclick="yesAction()">YES</button>
<button id="noBtn2" ontouchstart="move(this)" onmouseover="move(this)">No</button>
</div>
</div>

<script>
const name="Choyal ‚ù§Ô∏è";

const questions=[
"Do you remember our first chat? üí¨",
"Our first meet? ü•π",
"First bike ride? üèçÔ∏è",
"First hug? ü§ç",
"First kiss? ‚ù§Ô∏è"
];

let qi=0;

function show(id){
document.querySelectorAll('.page').forEach(p=>p.classList.remove('show'));
document.getElementById(id).classList.add('show');
}

/* PLAY INSIDE PAGE */
function startExperience(){
document.getElementById("player").style.display="block";
setTimeout(()=>{
show('q');
ask();
},1800);
}

function ask(){
document.getElementById('qText').innerText=name+"\n"+questions[qi];
}

function nextQ(){
qi++;
if(qi<questions.length){
ask();
}else{
show('letterPage');
setTimeout(typeLetter,300);
}
}

/* FIXED LETTER TYPING */
function typeLetter(){

let text=`Hi choyal,

Namma first friends dhaan‚Ä¶ casual talks, random laughs, time pass chats‚Ä¶

Aana epdi nu theriyama slowly nee en life-la romba mukkiyam aayita ü•∫

Friends irundhathu romba azhaga irundhuchu‚Ä¶
aana lovers aana apram dhaan purinjidhu
you are actually the best version of my life.

Nee dhaan en sunshine ‚òÄÔ∏è

When the whole world feels against me,
I run to you‚Ä¶ because you are my safest place ü§ç

Un kooda pesama oru naalum complete aagathu‚Ä¶

Enaku nee romba romba pudikum‚Ä¶
Life la enna nadandhaalum forever dhaan ü§û

Happy Valentine‚Äôs Day üíò
Always yours ü´∂
Dhivya`;

let i=0;
const el=document.getElementById('letter');
el.innerHTML="";

function type(){
if(i<text.length){
el.innerHTML += text[i] === "\n" ? "<br>" : text[i];
i++;
setTimeout(type,28);
}
}
type();
}

function showProposal(){show('proposal')}

/* SMOOTH HEARTS */
function yesAction(){
let count=0;
let interval=setInterval(()=>{
if(count>40){clearInterval(interval);return;}

let h=document.createElement('div');
h.className='floatName';
h.innerText=name;
h.style.left=Math.random()*100+'%';
h.style.fontSize=(16+Math.random()*28)+'px';
h.style.animationDuration=(6+Math.random()*5)+'s';

document.body.appendChild(h);
setTimeout(()=>h.remove(),9000);

count++;
},180);

alert('Text me how you feel ü•π');
}

/* ESCAPING NO BUTTON */
function move(b){
let x=Math.random()*70+10;
let y=Math.random()*70+10;
b.style.left=x+'%';
b.style.top=y+'%';
}
</script>

</body>
</html>